{% load static %}
<!doctype html>
<html lang="en">

<head>

    <meta charset="utf-8">
    <title>MAJOR PROJECT</title>
    <base href="/">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-+0n0xVW2eSR5OomGNYDnhzAbDsOXxcvSN1TPprVMTNDbiYZCxYbOOl7+AMvyTG2x" crossorigin="anonymous">
    <link rel="icon" type="image/x-icon" href="./assets/logor.png">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.8.2/css/all.min.css"
        crossorigin="anonymous" />

</head>

<body class='h-100'>


    <h1 class=" text-center  mt-5 ">CROP RECOMMENDATION</h1>
    <div class="row container mt-5">
        <div class="col-sm-7">
            
            <canvas id="myCanvas" >
            </canvas>
        </div>

        <script type="text/javascript">
            function getMousePosition(canvas, event) {
                let rect = canvas.getBoundingClientRect();
                let x = event.clientX - rect.left;
                let y = event.clientY - rect.top;
                x=Math.ceil(x)*4
                y=Math.ceil(y)*4
                console.log("Coordinate x: " + x,
                            "Coordinate y: " + y);
                document.getElementById('exampleFormControlInput1').value = x
                document.getElementById('exampleFormControlInput2').value = y
            }
        
            let canvasElem = document.querySelector("canvas");
            
            canvasElem.addEventListener("mousedown", function(e)
            {
                getMousePosition(canvasElem, e);
            });
        </script>

        <script>
            // Get the canvas element and its context
            var canvas = document.getElementById("myCanvas");
            var ctx = canvas.getContext("2d");
            ctx.canvas.width = 651; ctx.canvas.height = 618; 
            // Create a new image object
            var img = new Image();
      
            // Set the source of the image to your desired image file
            img.src = "../static/images/ultra_final_dwt_fused.jpg";
      
            // Draw the image onto the canvas once it's loaded
            img.onload = function() {
              ctx.drawImage(img, 0, 0,651,618);
            };
          </script>

        
        <!-- <script>
            function showCoords(event) {
                let x = event.clientX;
                let y = event.clientY;
                x=Math.ceil(x)
                y=Math.ceil(y)
                let text = "X coords: " + x + ", Y coords: " + y;

                document.getElementById('exampleFormControlInput1').value = x
                document.getElementById('exampleFormControlInput2').value = y

            }
        </script> -->
        <div class="col-sm-1"></div>
        <div class="col-sm-4">

            <form action="sendData">
                <div class="form-1">
                    <label for="exampleFormControlInput1" class="form-label">x coordinate</label>
                    <input type="text" class="form-control w-100" id="exampleFormControlInput1" name="x_co">
                </div>

                <div class="form-2 mb-4 mt-3">
                    <label for="exampleFormControlInput1" class="form-label">y coordinate</label>
                    <input type="text" class="form-control w-100" id="exampleFormControlInput2" name="y_co">
                </div>

                <input type="submit" class="btn btn-success">

            </form>
        </div>
    </div>



    <app-root class="d-flex flex-column h-100"></app-root>

    <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.slim.min.js">
    </script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js">
    </script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.bundle.min.js">
    </script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js"
        integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/js/bootstrap.min.js"
        integrity="sha384-Atwg2Pkwv9vp0ygtn1JAojH0nYbwNJLPhwyoVbhoPwBhjQPR5VtM2+xf0Uwh9KtT"
        crossorigin="anonymous"></script>

</body>

</html>